# üé® Wallpaper Filter Manager dla Omarchy

Zaawansowany system zarzƒÖdzania filtrami tapet dla Hyprland z systemem Omarchy. Umo≈ºliwia kumulacyjne nak≈Çadanie filtr√≥w na tapety z mo≈ºliwo≈õciƒÖ resetu do orygina≈Çu.

## ‚ú® Funkcje

- **Kumulacja filtr√≥w** - nak≈Çadaj filtry jeden na drugi (np. blur + sepia + brightness)
- **Automatyczna detekcja zmian** - wykrywa gdy zmienisz tapetƒô przez Omarchy
- **40+ filtr√≥w** - od podstawowych (grayscale, sepia) po zaawansowane (VHS, CRT, cartoon)
- **Szybki reset** - jeden przycisk wraca do orygina≈Çu
- **Integracja z Walker** - ≈Çadne menu w stylu Omarchy
- **Historia filtr√≥w** - zapisuje kolejno≈õƒá zastosowanych efekt√≥w

## üì¶ Wymagania

Przed instalacjƒÖ upewnij siƒô ≈ºe masz zainstalowane:

```bash
# Sprawd≈∫ co masz:
which walker         # Walker (launcher u≈ºywany przez Omarchy)
which magick         # ImageMagick v7+ (do przetwarzania obraz√≥w)
which swaybg         # swaybg (u≈ºywane przez Omarchy do tapet)
```

Je≈õli czego≈õ brakuje:

```bash
# Arch Linux / Omarchy:
sudo pacman -S imagemagick walker
```

## üöÄ Instalacja

### Krok 1: Zapisz skrypt

```bash
# Stw√≥rz folder na skrypty
mkdir -p ~/.config/hypr/scripts

# Skopiuj skrypt
nano ~/.config/hypr/scripts/wallpaper-filter
```

Wklej zawarto≈õƒá ze skryptu `wallpaper-filter` (dostƒôpny w artefakcie), zapisz i zamknij.

### Krok 2: Nadaj uprawnienia

```bash
chmod +x ~/.config/hypr/scripts/wallpaper-filter
```

### Krok 3: Dodaj skr√≥ty klawiszowe

Edytuj konfiguracjƒô Hyprland:

```bash
nano ~/.config/hypr/hyprland.conf
```

Dodaj na ko≈Ñcu (Omarchy u≈ºywa `bindd` z opisami):

```conf
# ============================================
# Wallpaper Filter Manager
# ============================================

# Otw√≥rz menu filtr√≥w
bindd = SUPER CONTROL SHIFT, W, Open wallpaper filter menu, exec, ~/.config/hypr/scripts/wallpaper-filter

# Szybki reset do orygina≈Çu
bindd = SUPER CONTROL SHIFT, R, Reset wallpaper to original, exec, ~/.config/hypr/scripts/wallpaper-filter reset

# Opcjonalne: Szybkie filtry
bindd = SUPER CONTROL, 1, Wallpaper: original, exec, ~/.config/hypr/scripts/wallpaper-filter none
bindd = SUPER CONTROL, 2, Wallpaper: mono gray, exec, ~/.config/hypr/scripts/wallpaper-filter mono-gray
bindd = SUPER CONTROL, 3, Wallpaper: mono blue, exec, ~/.config/hypr/scripts/wallpaper-filter mono-blue
bindd = SUPER CONTROL, 4, Wallpaper: blur, exec, ~/.config/hypr/scripts/wallpaper-filter blur
bindd = SUPER CONTROL, 5, Wallpaper: sepia, exec, ~/.config/hypr/scripts/wallpaper-filter sepia
```

**Uwaga:** Omarchy u≈ºywa formatu `bindd` (bind with description) zamiast zwyk≈Çego `bind`, oraz spacji zamiast podkre≈õlnik√≥w w modyfikatorach (`SUPER CONTROL` nie `SUPER_CTRL`).

### Krok 4: Prze≈Çaduj konfiguracjƒô

```bash
hyprctl reload
```

Lub wyloguj siƒô i zaloguj ponownie.

## üéÆ Instrukcja u≈ºytkowania

### Podstawowe u≈ºycie

**Menu filtr√≥w:**
- Naci≈õnij `SUPER + CTRL + SHIFT + W`
- Wybierz filtr z listy
- Tapeta zmienia siƒô natychmiast

**Szybki reset:**
- Naci≈õnij `SUPER + CTRL + SHIFT + R`
- Wraca do oryginalnej tapety

**Szybkie filtry (bez menu):**
- `SUPER + CTRL + 2` ‚Üí czarno-bia≈Çe
- `SUPER + CTRL + 3` ‚Üí niebieskie mono
- `SUPER + CTRL + 4` ‚Üí rozmycie
- `SUPER + CTRL + 5` ‚Üí sepia

### U≈ºycie przez terminal

```bash
# Zastosuj filtr
~/.config/hypr/scripts/wallpaper-filter mono-blue

# Nak≈Çadaj kolejne filtry (kumulacja)
~/.config/hypr/scripts/wallpaper-filter blur
~/.config/hypr/scripts/wallpaper-filter brightness-up
~/.config/hypr/scripts/wallpaper-filter sepia

# Reset do orygina≈Çu
~/.config/hypr/scripts/wallpaper-filter reset
```

## üìö Lista dostƒôpnych filtr√≥w

### üé® Podstawowe
- `none` - orygina≈Ç (bez zmian)
- `mono-gray` - czarno-bia≈Çe
- `invert` - odwr√≥cone kolory
- `sepia` - stary, brƒÖzowy odcie≈Ñ

### üåà Kolory monochromatyczne
- `mono-blue` - niebieski odcie≈Ñ
- `mono-red` - czerwony odcie≈Ñ
- `mono-green` - zielony odcie≈Ñ
- `mono-purple` - fioletowy odcie≈Ñ
- `mono-orange` - pomara≈Ñczowy odcie≈Ñ
- `mono-cyan` - cyjanowy odcie≈Ñ
- `mono-pink` - r√≥≈ºowy odcie≈Ñ

### üé≠ Artystyczne
- `oil-paint` - obraz farbami olejnymi
- `watercolor` - efekt akwareli
- `sketch` - szkic o≈Ç√≥wkiem
- `charcoal` - rysunek wƒôglem
- `posterize` - efekt plakatu (mniej kolor√≥w)
- `cartoon` - efekt kresk√≥wki

### üå´Ô∏è Rozmycie
- `blur` - rozmycie gaussowskie
- `motion-blur` - rozmycie ruchu
- `radial-blur` - rozmycie radialne
- `pixelate` - pikselizacja

### üí° ≈öwiat≈Ço i kolory
- `brightness-up` - zwiƒôksz jasno≈õƒá
- `brightness-down` - zmniejsz jasno≈õƒá
- `contrast-up` - zwiƒôksz kontrast
- `contrast-down` - zmniejsz kontrast
- `saturate` - zwiƒôksz nasycenie
- `desaturate` - zmniejsz nasycenie
- `vignette` - ciemne rogi
- `glow` - po≈õwiata

### üéûÔ∏è Tekstury
- `noise` - szum elektroniczny
- `film-grain` - ziarno filmowe
- `emboss` - wyt≈Çoczenie 3D
- `sharpen` - wyostrzenie

### üìº Retro/Vintage
- `vhs` - efekt ta≈õmy VHS
- `crt` - efekt starego monitora
- `faded` - wyblakniƒôte kolory

## üé® Przyk≈Çadowe kombinacje

### Vintage Look
```bash
wallpaper-filter faded
wallpaper-filter sepia
wallpaper-filter film-grain
wallpaper-filter vignette
```
**Efekt:** Stara, wyblakniƒôta fotografia z ziarnisto≈õciƒÖ i ciemnymi rogami

### Neon Cyberpunk
```bash
wallpaper-filter mono-cyan
wallpaper-filter saturate
wallpaper-filter glow
wallpaper-filter contrast-up
```
**Efekt:** Intensywny neonowy cyjanowy z po≈õwiatƒÖ

### Artystyczny szkic
```bash
wallpaper-filter sketch
wallpaper-filter mono-purple
wallpaper-filter vignette
```
**Efekt:** Fioletowy szkic artystyczny

### Retro Gaming
```bash
wallpaper-filter pixelate
wallpaper-filter crt
wallpaper-filter contrast-up
```
**Efekt:** Stary ekran CRT z pikselami

### Mglisty poranek
```bash
wallpaper-filter desaturate
wallpaper-filter blur
wallpaper-filter brightness-down
wallpaper-filter vignette
```
**Efekt:** Mglisty, stonowany krajobraz

### Film noir
```bash
wallpaper-filter mono-gray
wallpaper-filter contrast-up
wallpaper-filter film-grain
wallpaper-filter vignette
```
**Efekt:** Czarno-bia≈Çy film z lat 40-tych

## üîß Jak to dzia≈Ça

### Kumulacja filtr√≥w

System dzia≈Ça na zasadzie kumulacji - ka≈ºdy kolejny filtr jest nak≈Çadany na poprzedni wynik:

```
Orygina≈Ç ‚Üí Brightness Up ‚Üí Stan 1 (+jasno≈õƒá)
Stan 1 ‚Üí Blur ‚Üí Stan 2 (+jasno≈õƒá +blur)
Stan 2 ‚Üí Sepia ‚Üí Stan 3 (+jasno≈õƒá +blur +sepia)
```

### Automatyczna detekcja zmian tapety

Gdy zmienisz tapetƒô przez Omarchy (np. `omarchy-theme-bg-next`), skrypt:
1. Wykrywa nowƒÖ tapetƒô (sprawdza checksum MD5)
2. Automatycznie zapisuje jƒÖ jako nowy orygina≈Ç
3. Czy≈õci historiƒô filtr√≥w
4. Pozwala nak≈Çadaƒá nowe filtry

### Reset

Przycisk "RESET TO ORIGINAL" lub komenda `reset`:
- Przywraca prawdziwy orygina≈Ç (sprzed wszelkich filtr√≥w)
- Czy≈õci historiƒô filtr√≥w
- Resetuje checksum

## üìÅ Struktura plik√≥w

```
~/.config/hypr/
‚îú‚îÄ‚îÄ hyprland.conf                    # Twoja konfiguracja z keybindami
‚îî‚îÄ‚îÄ scripts/
    ‚îî‚îÄ‚îÄ wallpaper-filter             # G≈Ç√≥wny skrypt

~/.cache/wallpapers/                 # Cache (automatycznie tworzony)
‚îú‚îÄ‚îÄ true_original.jpg                # Prawdziwy orygina≈Ç (backup)
‚îú‚îÄ‚îÄ current_state.jpg                # Obecny stan po filtrach
‚îú‚îÄ‚îÄ current_filtered.jpg             # Plik tymczasowy
‚îú‚îÄ‚îÄ wallpaper_checksum.txt           # MD5 do detekcji zmian
‚îî‚îÄ‚îÄ filter_history.txt               # Historia zastosowanych filtr√≥w
```

## üêõ RozwiƒÖzywanie problem√≥w

### Menu siƒô nie otwiera

```bash
# Sprawd≈∫ czy Walker jest zainstalowany
which walker

# Test rƒôczny skryptu
~/.config/hypr/scripts/wallpaper-filter

# Zobacz b≈Çƒôdy
~/.config/hypr/scripts/wallpaper-filter 2>&1 | less
```

### Filtry nie dzia≈ÇajƒÖ

```bash
# Sprawd≈∫ ImageMagick
which magick
magick -version

# Je≈õli masz starƒÖ wersjƒô (convert zamiast magick):
# W skrypcie zamie≈Ñ CONVERT_CMD="magick" na CONVERT_CMD="convert"

# Test konkretnego filtra z debugowaniem
~/.config/hypr/scripts/wallpaper-filter mono-blue 2>&1
```

### Tapeta nie zmienia siƒô

```bash
# Sprawd≈∫ czy swaybg dzia≈Ça
ps aux | grep swaybg

# Restart swaybg
killall swaybg
swaybg -i ~/.config/omarchy/current/background -m fill &

# Sprawd≈∫ uprawnienia
ls -la ~/.config/omarchy/current/background
ls -la ~/.cache/wallpapers/
```

### Reset nie dzia≈Ça poprawnie

```bash
# Usu≈Ñ cache i zacznij od nowa
rm -rf ~/.cache/wallpapers
~/.config/hypr/scripts/wallpaper-filter

# Spowoduje to:
# 1. Zapisanie obecnej tapety jako nowy orygina≈Ç
# 2. Wyczyszczenie ca≈Çej historii
```

### Nowa tapeta nie jest wykrywana

```bash
# Sprawd≈∫ czy checksum siƒô zmienia
md5sum ~/.config/omarchy/current/background

# Wymu≈õ nowƒÖ tapetƒô jako orygina≈Ç
rm ~/.cache/wallpapers/wallpaper_checksum.txt
~/.config/hypr/scripts/wallpaper-filter
```

### Powiadomienia nie dzia≈ÇajƒÖ

```bash
# Sprawd≈∫ czy masz notify-send
which notify-send

# Test powiadomienia
notify-send "Test" "Dzia≈Ça?"

# Je≈õli nie masz, zainstaluj:
sudo pacman -S libnotify
```

## üéØ Customizacja

### Zmiana skr√≥t√≥w klawiszowych

Edytuj `~/.config/hypr/hyprland.conf` i zmie≈Ñ keybindy wed≈Çug preferencji.

**Pamiƒôtaj:** Omarchy u≈ºywa formatu `bindd` z opisami i spacji w modyfikatorach:

```conf
# Przyk≈Çad: Zmie≈Ñ na SUPER + W
bindd = SUPER, W, Open wallpaper filters, exec, ~/.config/hypr/scripts/wallpaper-filter

# Przyk≈Çad: Dodaj wiƒôcej szybkich filtr√≥w
bindd = SUPER CONTROL, 6, Wallpaper: cartoon, exec, ~/.config/hypr/scripts/wallpaper-filter cartoon
bindd = SUPER CONTROL, 7, Wallpaper: VHS effect, exec, ~/.config/hypr/scripts/wallpaper-filter vhs
bindd = SUPER CONTROL, 8, Wallpaper: glow, exec, ~/.config/hypr/scripts/wallpaper-filter glow
```

Format Omarchy `bindd`:
```conf
bindd = MODYFIKATORY, KLAWISZ, Opis keybinda, exec, komenda
```

**Nie u≈ºywaj:** `SUPER_CTRL_SHIFT` (podkre≈õlniki)  
**U≈ºywaj:** `SUPER CONTROL SHIFT` (spacje)

### Modyfikacja intensywno≈õci filtr√≥w

W skrypcie mo≈ºesz dostosowaƒá parametry filtr√≥w. Przyk≈Çady:

```bash
# Silniejsze rozmycie (zmie≈Ñ 0x8 na 0x15)
"blur")
    $CONVERT_CMD "$source" -blur 0x15 "$FILTERED_OUTPUT"
    ;;

# Wiƒôcej ziarna filmowego (zmie≈Ñ 0.3 na 0.5)
"film-grain")
    $CONVERT_CMD "$source" +noise Gaussian -attenuate 0.5 "$FILTERED_OUTPUT"
    ;;

# Mocniejszy sepia (zmie≈Ñ 80% na 100%)
"sepia")
    $CONVERT_CMD "$source" -sepia-tone 100% "$FILTERED_OUTPUT"
    ;;
```

### Dodanie w≈Çasnych filtr√≥w

W sekcji `case $filter in` dodaj nowy filtr:

```bash
"my-custom-filter")
    $CONVERT_CMD "$source" -modulate 120,80,100 -blur 0x2 "$FILTERED_OUTPUT"
    ;;
```

Nastƒôpnie dodaj go do menu:

```bash
FILTER=$(echo -e "\
...
‚îÅ‚îÅ‚îÅ Moje Filtry ‚îÅ‚îÅ‚îÅ
  My Custom Filter
..." | walker --dmenu --theme dmenu_250 -p "Wallpaper Filter‚Ä¶")
```

I w mapowaniu:

```bash
*My\ Custom\ Filter*) apply_filter "my-custom-filter" ;;
```

## üìù Notatki

- **Jako≈õƒá obrazu:** Wielokrotne nak≈Çadanie filtr√≥w mo≈ºe obni≈ºyƒá jako≈õƒá - u≈ºywaj resetu gdy zauwa≈ºysz pogorszenie
- **Performance:** Niekt√≥re filtry (cartoon, crt) mogƒÖ trwaƒá 2-3 sekundy na du≈ºych rozdzielczo≈õciach
- **Cache:** Folder `~/.cache/wallpapers/` mo≈ºna bezpiecznie usunƒÖƒá - zostanie odtworzony
- **Backup:** Prawdziwy orygina≈Ç jest zawsze bezpieczny w `true_original.jpg`

## ü§ù Wsparcie

Je≈õli napotkasz problemy:

1. Sprawd≈∫ sekcjƒô "RozwiƒÖzywanie problem√≥w" powy≈ºej
2. Uruchom skrypt z debugowaniem: `bash -x ~/.config/hypr/scripts/wallpaper-filter 2>&1 | less`
3. Sprawd≈∫ logi Hyprland: `hyprctl logs` lub `journalctl --user -u hyprland`

## üìú Licencja

Ten skrypt jest wolnym oprogramowaniem. Mo≈ºesz go u≈ºywaƒá, modyfikowaƒá i dystrybuowaƒá wed≈Çug w≈Çasnych potrzeb.

## üéâ Enjoy!

Mi≈Çego eksperymentowania z filtrami! Pamiƒôtaj - kombinuj, testuj i tw√≥rz unikalne efekty wizualne dla swojego desktopu. üöÄ